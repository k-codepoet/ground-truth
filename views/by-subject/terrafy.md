---
title: "Terrafy Plugin 종합 View"
subject: terrafy
created: 2026-01-03
updated: 2026-01-03
revision: 1
sources:
  - library/product/terrafy-plugin-spec.md
  - library/product/ify-trilogy-strategy.md
history: []
---

# Terrafy Plugin 종합 View

## 구조 (도식)

```
┌─────────────────────────────────────────────────────────────────┐
│                       Terrafy Plugin                            │
│     "Lay the groundwork for your digital city"  🏗️              │
└─────────────────────────────────────────────────────────────────┘
                              │
                    -ify Trilogy에서의 위치
           ┌──────────────────┼──────────────────┐
           ▼                  ▼                  ▼
    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
    │  Gemify 💎  │    │ Terrafy 🏗️ │    │ Craftify 🔨│
    │    WHAT     │    │   WHERE     │    │    HOW     │
    │  뭘 만들지   │    │ 어디서 돌릴지│    │어떻게 만들지│
    └─────────────┘    └─────────────┘    └─────────────┘
           │                  │                  │
      지식 → 설계도      서버 → 인프라      설계도 → 코드
```

## 아키텍처 흐름

```
[입력]
서버 IP (VPS, 베어메탈 등)
    │
    ▼
┌─────────────────────────────────────────────────┐
│                  Terrafy                         │
├─────────────────────────────────────────────────┤
│  Phase 1: 클러스터 설치                          │
│  └── K3s, Docker 등                             │
├─────────────────────────────────────────────────┤
│  Phase 2: 네트워크 설정                          │
│  ├── 내부 레이어: Traefik / Nginx / Caddy        │
│  └── 외부 연결: Cloudflare Tunnel / External DNS │
├─────────────────────────────────────────────────┤
│  Phase 3: GitOps 연동 (향후)                     │
└─────────────────────────────────────────────────┘
    │
    ▼
[출력]
배포 가능한 클러스터 → Craftify로 핸드오프
```

## 네트워크 전략

```
┌─────────────────────────────────────────────────────────┐
│                    외부 공인망                           │
│  ┌───────────────────┐  ┌───────────────────────────┐  │
│  │ Cloudflare Tunnel │  │      External DNS         │  │
│  └─────────┬─────────┘  └─────────────┬─────────────┘  │
└────────────┼──────────────────────────┼────────────────┘
             │       선택적 노출         │
             ▼                          ▼
┌─────────────────────────────────────────────────────────┐
│                  VPN / 내부망 (격리)                     │
│  ┌─────────────────────────────────────────────────┐   │
│  │        Reverse Proxy (Traefik/Nginx/Caddy)      │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐      │   │
│  │  │ Service A│  │ Service B│  │ Service C│      │   │
│  │  └──────────┘  └──────────┘  └──────────┘      │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

## 스토리 (왜 → 뭘 → 어디까지)

### 왜 만드나

코드를 배포하려면 인프라가 먼저 있어야 함. 서버 IP만 있으면 배포 가능한 클러스터로 변환해주는 도구가 필요. 도시 메타포에서 건물(Craftify)을 짓기 전에 도로와 전기, 수도(Terrafy)가 먼저 깔려야 함.

### 무엇을 만드나

**Terrafy** 🏗️ - 인프라 자동화 플러그인

| 항목 | 내용 |
|------|------|
| 역할 | -fy Trilogy의 WHERE |
| 입력 | 서버 IP |
| 출력 | 배포 가능한 클러스터 |
| 태그라인 | "Lay the groundwork for your digital city" |

**기술 스택**:

| 레이어 | 옵션 |
|--------|------|
| 내부 프록시 | Traefik, Nginx, Caddy |
| 외부 연결 | Cloudflare Tunnel, External DNS |
| 네트워크 | VPN/내부망 격리 → 외부 선택적 노출 |

**사용자 워크플로우**:
```
1. 서버 IP 입력
2. 옵션 선택 (프록시: traefik/nginx/caddy, 터널: cloudflare/external-dns)
3. Terrafy 실행 → 배포 가능한 클러스터 완성
```

### 어디까지 왔나

```
[x] 컨셉 정의               ✅ 완료
[x] 기술 스택 결정           ✅ 완료
[ ] 플러그인 구조 설계       ← 다음 작업
[ ] Phase 1 구현 (클러스터)
[ ] Phase 2 구현 (네트워크)
[ ] Phase 3 구현 (GitOps)
```

## Craftify와의 경계

| 항목 | Terrafy | Craftify |
|------|---------|----------|
| 담당 | 인프라 준비 | 코드 배포 |
| 산출물 | 배포 가능한 클러스터 | 동작하는 서비스 |
| 메타포 | 도로/전기/수도 | 건물 시공 |

**핸드오프 포인트**: Terrafy가 클러스터를 준비하면, Craftify가 그 위에 코드를 배포

## 관련 문서

### 설계/전략
- [Terrafy 플러그인 스펙](../../library/product/terrafy-plugin-spec.md) - 상세 스펙
- [-ify Trilogy 전략](../../library/product/ify-trilogy-strategy.md) - Gemify, Terrafy, Craftify

### 관련 플러그인
- [Craftify View](./craftify.md) - HOW 담당 (후속 단계)
- [Gemify View](./gemify.md) - WHAT 담당 (선행 단계)
