# 대화 요약 (Claude Code: commands · skills · agents)

## 발단
- 사용자는 *명시적으로* Claude Code command를 호출하지 않아도, 대화 맥락이 충분하면 command를 실행한 것과 비슷한 결과가 나오는 현상을 관찰했다.
- 이에 대해 command가 ‘새 컨텍스트 윈도우’에서 실행되는 것인지, 혹은 맥락을 웜업해서 동일 효과가 나는 것인지 확인하고자 했다.

## 핵심 의사결정 과정
- **(관찰)** 충분한 컨텍스트가 있으면 /command를 호출하지 않아도 유사한 응답이 나온다.
- **(가설 검토)** command가 완전히 분리된 새 컨텍스트에서 돌아가서 동일한 것이 아니라,
  - 메인 세션 컨텍스트 위에서 규칙/지침이 *필요할 때* 주입되는 형태라면 설명이 된다.
- **(구조 비교)**
  - Skill: 메타(이름/설명) → 매칭 시 본문/참조 로드로 이어지는 **2단계 로딩** 성격이 강해 progressive disclosure에 더 가깝다.
  - Command: 보통은 *호출 순간* 지침이 한 번에 로드되는 성격이 더 강하지만,
    - command가 ‘라우터/런처’ 역할만 하고 실제 절차는 skills로 위임하면,
    - 결과적으로 필요한 skill만 단계적으로 로드되어 **progressive disclosure 패턴**을 구현할 수 있다.
- **(전략 합의)** 사용자는 “상황에 맞게 agent/skill을 이용해 목적 달성”을 지향하며,
  - command를 오케스트레이터(라우터)로 두고,
  - subagent는 독립 컨텍스트로 역할을 분리,
  - skill은 필요한 시점에만 세부 지침/참조를 로드하는 방식으로 구성하는 전략을 채택했다.

## 결론(핵심)
- command를 명시적으로 호출하지 않아도 맥락이 충분하면 비슷한 효과가 날 수 있다.
- progressive disclosure는 skill이 더 직접적으로 지원하며,
- command는 “skill/agent를 동적으로 선택·조합하는 오케스트레이터”로 설계하면 progressive disclosure 패턴을 활용하는 구조가 된다.

## 다음 액션(선택)
- 자주 쓰는 대표 command 1~2개를 기준으로:
  - command는 짧게(라우팅/합성만),
  - 세부 절차는 skill로 분리,
  - 역할이 다른 작업은 subagent로 분리
  형태로 리팩터링하면 컨텍스트 효율과 재현성이 좋아진다.
